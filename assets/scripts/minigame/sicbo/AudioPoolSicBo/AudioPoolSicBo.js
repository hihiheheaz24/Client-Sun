/*
 * Generated by BeChicken
 * on 10/2/2019
 * version v1.0
 */
(function () {
    cc.AudioPoolSicBo = cc.Class({
        "extends": cc.Component,
        properties: {
            musicBackground: cc.AudioSource,

            chipBet: cc.AudioSource,
            chipSelect: cc.AudioSource,
            countDown:cc.AudioSource,
            countDownEnd: cc.AudioSource,
            shake:cc.AudioSource,
            showBat:cc.AudioSource,
            openBat:cc.AudioSource,
            thiemThuCoinFall:cc.AudioSource,
            thiemThuChannelling:cc.AudioSource,
            thiemThuPushCoin:cc.AudioSource,
            thiemThuHitTu:cc.AudioSource,
            startBetting:cc.AudioSource,
            stopBettingSound:cc.AudioSource,
            openPopUp:cc.AudioSource,
            closePopUp:cc.AudioSource

        },
        onLoad: function () {
            cc.AudioController.getInstance().setAudioPool(this);
        },
        start() {
            let chatStatus = cc.sys.localStorage.getItem("@ChatSicBo")?cc.sys.localStorage.getItem("@ChatSicBo"):"true";
            cc.sys.localStorage.setItem("@ChatSicBo",chatStatus);
            this.chat = chatStatus=="true";
            this.sound = cc.sys.localStorage.getItem("@SoundSicBo")=="true";
            this.music = cc.sys.localStorage.getItem("@MusicSicBo")=="true";
            cc.AudioController.getInstance().enableSound(this.sound);
            cc.AudioController.getInstance().enableMusic(this.music);
            cc.SicBoController.getInstance().enableChat(this.chat);
        },
        enableMusic: function (enable) {
            if (this.musicBackground) {
                if (enable) {
                    if (!this.musicBackground.isPlaying) {
                        this.musicBackground.play();
                    }
                } else {
                    this.musicBackground.stop();
                }
            }
        },

        enableSound: function (enable) {
            this.chipBet.mute = !enable;
            this.chipSelect.mute = !enable;
            this.countDown.mute = !enable;
            this.countDownEnd.mute = !enable;
            this.shake.mute = !enable;
            this.openBat.mute = !enable;
            this.showBat.mute = !enable;
            this.thiemThuCoinFall.mute = !enable;
            this.thiemThuChannelling.mute = !enable;
            this.thiemThuPushCoin.mute = !enable;
            this.thiemThuHitTu.mute = !enable;
            this.startBetting.mute = !enable;
            this.stopBettingSound.mute = !enable;
            this.openPopUp.mute = !enable;
            this.closePopUp.mute = !enable;
        },

        getAudioClip: function (clipType) {
            let audioClip = null;
            switch (clipType) {
                case cc.AudioTypes.CHIP_SELECT:
                    audioClip = this.chipSelect;
                    break;
                case cc.AudioTypes.CHIP_BET:
                    audioClip = this.chipBet;
                    break;
                case cc.AudioTypes.SICBO_COUNT_DOWN:
                    audioClip = this.countDown;
                    // cc.director.getScheduler().schedule(function () {
                    //     this.countDown.stop();
                    // }.bind(this), this, 0, 0, 0.5, false);
                    break;
                case cc.AudioTypes.SICBO_COUNT_DOWN_END:
                    audioClip = this.countDownEnd;
                    break;
                case cc.AudioTypes.SICBO_SHAKE:
                    audioClip = this.shake;
                    break;
                case cc.AudioTypes.SICBO_OPEN_BAT:
                    audioClip = this.openBat;
                    break;
                case cc.AudioTypes.SICBO_SHOW_BAT:
                    audioClip = this.showBat;
                    break;
                case cc.AudioTypes.SICBO_THIEMTHU_COIN_FALL:
                    audioClip = this.thiemThuCoinFall;
                    break;
                case cc.AudioTypes.SICBO_THIEMTHU_CHANNELING:
                    audioClip = this.thiemThuChannelling;
                    break;
                case cc.AudioTypes.SICBO_THIEMTHU_PUSH_COIN:
                    audioClip = this.thiemThuPushCoin;
                    break;
                case cc.AudioTypes.SICBO_THIEMTHU_HIT_TU:
                    audioClip = this.thiemThuHitTu;
                    break;
                case cc.AudioTypes.SICBO_START_BETTING:
                    audioClip = this.startBetting;
                    break;
                case cc.AudioTypes.SICBO_STOP_BETTING:
                    audioClip = this.stopBettingSound;
                    break;
                case cc.AudioTypes.SICBO_OPEN_POPUP:
                    audioClip = this.openPopUp;
                    break;
                case cc.AudioTypes.SICBO_CLOSE_POPUP:
                    audioClip = this.closePopUp;
                    break;

                }
            return audioClip;
        }
    });

}).call(this);